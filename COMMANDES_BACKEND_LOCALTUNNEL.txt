===========================================
  COMMANDES BACKEND LOCALTUNNEL
===========================================

üìã INSTALLATION
-----------
npm install -g localtunnel


üöÄ D√âMARRAGE MANUEL
-----------
# Terminal 1: Backend Laravel
php artisan serve --host=192.168.241.9 --port=8000

# Terminal 2: LocalTunnel Backend
lt --port 8000 --subdomain nlc-maxicash-api-rdc


üéØ D√âMARRAGE AUTOMATIQUE
-----------
# Backend seulement
start-backend-localtunnel.bat

# Frontend + Backend (tout)
start-all-localtunnel.bat


‚öôÔ∏è CONFIGURATION .ENV
-----------
# Apr√®s avoir d√©marr√© LocalTunnel, mettre √† jour :
MAXICASH_NOTIFY_URL=https://nlc-maxicash-api-rdc.loca.lt/api/webhooks/maxicash

# Puis red√©marrer Laravel (Ctrl+C puis relancer)


‚úÖ V√âRIFICATION
-----------
# 1. Tester le backend local
curl http://192.168.241.9:8000/api/test

# 2. Tester le backend public
curl https://nlc-maxicash-api-rdc.loca.lt/api/test

# 3. Tester le webhook
curl -X POST https://nlc-maxicash-api-rdc.loca.lt/api/webhooks/maxicash \
  -H "Content-Type: application/json" \
  -d "{\"Reference\":\"TEST\",\"Status\":\"completed\"}"

# 4. Tester un paiement complet
php test-ticket-payment.php


üîç DEBUGGING
-----------
# Voir les logs Laravel
tail -f storage/logs/laravel.log

# V√©rifier la configuration
grep MAXICASH .env

# Tester l'API locale
curl http://192.168.241.9:8000/api/events


üìä URLS IMPORTANTES
-----------
Frontend Local    : http://localhost:8080
Frontend Public   : https://nlc-maxicash-rdc.loca.lt

Backend Local     : http://192.168.241.9:8000
Backend Public    : https://nlc-maxicash-api-rdc.loca.lt

API Test          : https://nlc-maxicash-api-rdc.loca.lt/api/test
Webhook           : https://nlc-maxicash-api-rdc.loca.lt/api/webhooks/maxicash


‚ö†Ô∏è IMPORTANT
-----------
1. Premi√®re visite : Cliquer "Click to Continue" sur les URLs LocalTunnel
2. Les URLs LocalTunnel restent les m√™mes tant que vous ne red√©marrez pas
3. Si vous red√©marrez, les URLs peuvent changer (sauf avec --subdomain)
4. LocalTunnel est gratuit mais peut √™tre lent parfois
5. Pour la production, utilisez un vrai domaine


üéâ PR√äT √Ä TESTER
-----------
Une fois tout configur√© :
1. Ouvrir https://nlc-maxicash-rdc.loca.lt
2. Aller sur la page d'inscription √† un √©v√©nement
3. Remplir le formulaire
4. Cliquer sur "Payer"
5. Vous serez redirig√© vers MaxiCash
6. L'erreur "Object reference not set" devrait avoir disparu !


üìû SUPPORT
-----------
Si probl√®me :
- V√©rifier que LocalTunnel tourne : lt --version
- V√©rifier que Laravel tourne : curl http://192.168.241.9:8000/api/test
- V√©rifier les logs : tail -f storage/logs/laravel.log
- V√©rifier .env : grep MAXICASH .env
